<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Flower Delivery üíê</title>

<style>

body{
  margin:0;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background: radial-gradient(circle,#ffd6e7,#fff);
  font-family: Arial;
  overflow:hidden;
  perspective:1200px;
}

/* scene rotation */
.scene{
  text-align:center;
  transform-style: preserve-3d;
  animation: rotateScene 6s ease forwards;
}

@keyframes rotateScene{
  from{
    transform: rotateY(-40deg) rotateX(10deg);
    opacity:0;
  }
  to{
    transform: rotateY(0) rotateX(0);
    opacity:1;
  }
}

/* envelope */
.envelope{
  width:240px;
  height:150px;
  background:#fff;
  position:relative;
  margin:auto;
  cursor:pointer;
  border-radius:8px;
  box-shadow:0 20px 40px rgba(0,0,0,0.2);
  transform-style: preserve-3d;
}

/* flap */
.flap{
  position:absolute;
  width:100%;
  height:100%;
  background:#ffb6c1;
  clip-path: polygon(0 0,100% 0,50% 60%);
  transform-origin:top;
  transition:1.2s;
}

.envelope.open .flap{
  transform: rotateX(180deg);
}

/* flower */
.flower{
  position:absolute;
  left:50%;
  bottom:10px;
  transform:translateX(-50%) translateY(80px) scale(.5);
  opacity:0;
  transition:1.2s;
}

.envelope.open .flower{
  transform:translateX(-50%) translateY(-100px) scale(1.3);
  opacity:1;
}

/* message */
.message{
  margin-top:20px;
  font-size:24px;
  color:#ff4081;
  opacity:0;
  transform:translateY(20px);
  transition:1s;
}

.message.show{
  opacity:1;
  transform:translateY(0);
}

/* name */
.name{
  font-size:28px;
  color:#ff1493;
  margin-bottom:10px;
  opacity:0;
  transform:translateY(-20px);
  transition:1s;
}

.name.show{
  opacity:1;
  transform:translateY(0);
}

/* petals */
.petal{
  position:absolute;
  top:-50px;
  width:15px;
  height:15px;
  background:pink;
  border-radius:50%;
  opacity:0.7;
  animation: fall linear infinite;
}

@keyframes fall{
  to{
    transform: translateY(110vh) rotate(360deg);
  }
}

.tap{
  margin-top:15px;
  color:#555;
}

</style>

</head>
<body>

<div class="scene">

<div class="name" id="name">For You ‚ù§Ô∏è</div>

<div class="envelope" id="envelope" onclick="openEnvelope()">

<div class="flap"></div>

<img src="https://cdn-icons-png.flaticon.com/512/616/616490.png"
class="flower"
id="flower"
onclick="showMessage(event)">

</div>

<div class="tap" id="tap">Tap the envelope ‚úâÔ∏è</div>

<div class="message" id="message">
I hope this flower makes you smile üå∏<br>
Happy Valentine's Day üíï
</div>

</div>

<!-- music -->
<audio id="music" loop>
<source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3">
</audio>

<script>

/* envelope open */
function openEnvelope(){

  document.getElementById("envelope").classList.add("open");

  document.getElementById("tap").innerText="Tap the flower üå∏";

  document.getElementById("music").play();

}

/* show message */
function showMessage(event){

  event.stopPropagation();

  document.getElementById("message").classList.add("show");

  document.getElementById("name").classList.add("show");

}

/* falling petals generator */
function createPetal(){

  const petal=document.createElement("div");

  petal.classList.add("petal");

  petal.style.left=Math.random()*100+"vw";

  petal.style.animationDuration=(5+Math.random()*5)+"s";

  petal.style.opacity=Math.random();

  document.body.appendChild(petal);

  setTimeout(()=>{petal.remove()},10000);

}

setInterval(createPetal,300);

</script>

</body>
</html>
